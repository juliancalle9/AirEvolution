<!--BUSQUEDA DE CLIENTE-->
<template >
    <template if:true={inicioBuscarCliente}>
        <lightning-card title="Realizar reserva">
            <br>
            <h1>Buscar cliente</h1>
            <br>
            <lightning-combobox label="Tipo de identificación"  options={tipos}
            onchange={onchangeTipoDoc}></lightning-combobox>
            <lightning-input label="Número de identificación:"
            type="text" onchange={onchangeNumId} ></lightning-input>
            <lightning-button variant="brand" label=Buscar  onclick={buscarClienteClick}></lightning-button>

        </lightning-card>
    </template>
    <!--CREACION DE CLIENTE-->
    <template if:true={crearCliente}>
        <lightning-card title="Crear Cliente" >
            <lightning-record-edit-form
            object-api-name="Contact"
            onsuccess={handleSuccess}>
            <lightning-input-field field-name="FirstName"> </lightning-input-field>
            <lightning-input-field field-name="LastName"> </lightning-input-field>
            <lightning-input-field field-name="Tipo_de_identificacion__c" value={tipoidentificacion}> </lightning-input-field>
            <lightning-input-field field-name="Numero_de_identificacion__c" value={numeroidentificacion}> </lightning-input-field>
            <lightning-input-field field-name="Numero_de_pasaporte__c"> </lightning-input-field>
            <lightning-input-field field-name="Email"> </lightning-input-field>
            <lightning-input-field field-name="Nacionalidad__c"> </lightning-input-field>
            <lightning-button variant="brand" type="submit" label="Guardar" onclick={crearClienteClick}></lightning-button>  
           
            </lightning-record-edit-form>
        </lightning-card>

    </template>
    <template if:true={mostrarCrearReserva}> 
        <lightning-layout>
            <lightning-card class="slds-align_absolute-center" id="seccionCrearReserva">
                <!--MENSAJE DE RESERVA CREADA-->
                <div>
                    <p>Se ha creado una reserva con éxito en estado pre-venta</p>
                </div>
                <br>
                <!--TABLA DE VUELOS-->
                <div style="height: 350px;">
                    <lightning-datatable
                    key-field="idVuelo"
                    data={data}
                    max-row-selection="1"
                    columns={columns}
                    onrowselection={seleccionarVueloFila}>
                    </lightning-datatable>
                </div>
                <br>
                <!--SELECCIÓN DE EQUIPAJE-->
                <lightning-dual-listbox
                label="Selección equipaje"
                source-label="Equipaje"
                selected-label="Seleccionado"
                field-level-help="Para clase negocios el equipaje no tiene costo"
                options={equipajes}
                onchange={handleEquipaje}>
                </lightning-dual-listbox>
                <!--CREACIÓN DE TIQUETE-->
                <lightning-button variant="brand" label="Crear tiquete"  onclick={crearTiqueteClick} onsuccess={handleTiqueteCreado}></lightning-button>
            </lightning-card>
        </lightning-layout>
    </template>

    <!--SELECCIÓN DE PASAJEROS-->
    <template if:true={seleccionPasajerosTemplate}>
        <lightning-card title="Agregar pasajeros">
            <lightning-combobox label="Tipo de identificación"  options={identPasajeros}
                onchange={onchangeTipoDoc}></lightning-combobox>
            <lightning-input label="Número de identificación:"
                type="text" onchange={onchangeNumId}></lightning-input>
            <lightning-button variant="brand-outline" label="Buscar"  onclick={buscarPasajeroClick}></lightning-button>
            <lightning-button variant="success" label="Crear tiquetes"  onclick={agregarPasajeroClick}></lightning-button>
        </lightning-card>
        <lightning-layout>
            <lightning-card>
                <lightning-layout-item>
                    <h2>Se ha agregado este pasajero</h2>
                    <lightning-record-view-form
                    record-id={contacto}
                    object-api-name="Contact">
                        <lightning-output-field field-name="Name"></lightning-output-field>
                        <lightning-output-field field-name="Tipo_de_identificacion__c"></lightning-output-field>
                        <lightning-output-field field-name="Numero_de_identificacion__c"></lightning-output-field>
                        <lightning-output-field field-name="Nacionalidad__c"></lightning-output-field>
                    </lightning-record-view-form>
                </lightning-layout-item>
            </lightning-card>
        </lightning-layout>

    </template>
        

    <!--MODAL PARA LA SELECCION DE LISTA DE PRECIOS-->
    <template if:true={isModalOpen}>
        <!-- Modal/Popup Box LWC starts here -->
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                        <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            variant="inverse"
                            size="small" ></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Seleccionar tipo de tiquete</h2>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <lightning-card>
                    <lightning-combobox
                    label="Lista de precios"
                    options={Listas}
                    onchange={handleChangeListaPrecios}
                ></lightning-combobox>
                </lightning-card>
                <!-- Modal/Popup Box LWC footer starts here -->
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" onclick={closeModal} title="Cancel">Cancelar</button>
                    <button class="slds-button slds-button_brand" onclick={guardarTipoListaClick} title="Guardar">Guardar</button>
                </footer>
                
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
        
    </template>

    <!--MODAL PARA LA CREACION DE UN NUEVO PASAJERO-->
    <template if:true={modalCrearPasajero}>
        <!-- Modal/Popup Box LWC starts here -->
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cerrarModalCrearPasajero}>
                        <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            variant="inverse"
                            size="small" ></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Crear pasajero</h2>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <lightning-card title="Crear Cliente" >
                    <lightning-record-edit-form
                    object-api-name="Contact"
                    onsuccess={pasajeroNuevoExitoso}>
                        <lightning-input-field field-name="FirstName"> </lightning-input-field>
                        <lightning-input-field field-name="LastName"> </lightning-input-field>
                        <lightning-input-field field-name="Tipo_de_identificacion__c" value={tipoidentificacion}> </lightning-input-field>
                        <lightning-input-field field-name="Numero_de_identificacion__c" value={numeroidentificacion}> </lightning-input-field>
                        <lightning-input-field field-name="Numero_de_pasaporte__c"> </lightning-input-field>
                        <lightning-input-field field-name="Email"> </lightning-input-field>
                        <lightning-input-field field-name="Nacionalidad__c"> </lightning-input-field>
                        <lightning-button variant="brand" type="submit" label="Guardar"></lightning-button>

                    </lightning-record-edit-form>
                </lightning-card>
                <!-- Modal/Popup Box LWC footer starts here -->
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
        
    </template>
</template>